{"version":3,"sources":["components/FormItem.js","components/AddPersonForm.js","components/Person.js","components/Directory.js","components/FilterForm.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["FormItem","text","value","onChange","AddPersonForm","addPerson","name","handleNameChange","number","handleNumberChange","onSubmit","type","Person","person","removePerson","onClick","Directory","persons","filter","remove","toLowerCase","indexOf","map","id","FilterForm","Item","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","notifType","setNotifType","handleNotificationChange","timer","setTimeout","useEffect","personService","personResponse","catch","error","event","target","preventDefault","newPerson","lookupPerson","find","p","window","confirm","returnedPerson","some","concat","request","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a789faeb.chunk.js","sourcesContent":["import React from 'react'\n\nconst FormItem = ({ text, value, onChange }) => <div><label>{text}</label> <input value={value} onChange={onChange} /></div>\n\nexport default FormItem","import React from 'react'\nimport FormItem from './FormItem'\n\nconst AddPersonForm = ({ addPerson, name, handleNameChange, number, handleNumberChange}) => (\n  <form onSubmit={addPerson}>\n    <FormItem text='Name'   value={name}   onChange={handleNameChange} />\n    <FormItem text='Number' value={number} onChange={handleNumberChange} />\n    <div>\n      <button type=\"submit\">Add</button>\n    </div>\n  </form>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst Person = ({ person, removePerson }) => <tr><td>{person.name}</td><td>{person.number}</td><td><button onClick={removePerson}>Delete</button></td></tr>\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Directory = ({ persons, filter, remove }) => (\n  <table>\n    <thead>\n      {\n        persons\n          .filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) > -1)\n          .map(person => <Person key={person.name} person={person} removePerson={remove(person.id)} />)\n      }\n    </thead>\n  </table>\n)\n\nexport default Directory","import React from 'react'\nimport FormItem from './FormItem'\n\nconst FilterForm = ({ value, onChange }) => (\n  <form>\n    <FormItem Item text='Filter by name' value={value} onChange={onChange} />\n  </form>\n)\n\nexport default FilterForm","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useEffect, useState } from 'react'\n\nimport AddPersonForm from './components/AddPersonForm'\nimport Directory from './components/Directory'\nimport FilterForm from './components/FilterForm'\nimport Notification from './components/Notification'\nimport personService from './services/person'\n\nconst App = () => {\n  const [ persons, setPersons ]           = useState([])\n  const [ newName, setNewName ]           = useState('')\n  const [ newNumber, setNewNumber ]       = useState('')\n  const [ filter, setFilter ]             = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ notifType, setNotifType ]       = useState(null)\n\n  const handleNameChange   = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const handleNotificationChange = (message, type) => {\n    let timer = 5000\n    if(type === 'critical') {\n      timer = 30000\n    }\n    setNotification(message)\n    setNotifType(type)\n  \n    setTimeout(() => {\n      setNotification(null)\n    }, timer)\n  }\n\n  const fetchPersons = () => personService.getAll().then(personResponse => {\n    setPersons(personResponse)\n  }).catch(error => {\n    handleNotificationChange(`Couldn't connect to backend service. Please try again later.`, 'critical')\n  })\n  useEffect(fetchPersons, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n\n    const lookupPerson = persons.find(p => p.name === newName)\n\n    if(lookupPerson) {\n      if(window.confirm(`The name '${newName}' is already added to phonebook. Would you like to replace the old number with the new one?`)) {\n        personService.update(lookupPerson.id, newPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== lookupPerson.id ? person : returnedPerson))\n          handleNotificationChange(`Updated '${newName}' in the phonebook.`, 'success')\n        }).catch(error => {\n          handleNotificationChange(`Couldn't update '${newName}'.`, 'error')\n        })\n      }\n      handleNotificationChange(`Didn't update '${newName}' in the phonebook.'`, 'error')\n      return\n    }\n\n    if(persons.some(p => p.number === newNumber)) {\n      handleNotificationChange(`The phone number ${newNumber} is already added to phonebook`, 'error')\n      return\n    }\n\n    personService.create(newPerson).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n      handleNotificationChange(`Added '${newName}' to the phonebook.'`, 'success')\n    }).catch(error => {\n      handleNotificationChange(`Couldn't add '${newName}'.`, 'critical')\n    })\n  }\n\n  const removePerson = (id) => {\n    const lookupPerson = persons.find(p => p.id === id)\n\n    return () => {\n      personService.remove(id).then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        handleNotificationChange(`Removed '${lookupPerson.name}' from the phonebook.'`, 'success')\n      }).catch(error => {\n        if(error.response) {\n          handleNotificationChange(`${lookupPerson.name} doesn't exist or was already removed from the phonebook.`, 'error')\n        } else if(error.request) {\n          handleNotificationChange(`Couldn't find the backend service. Please try again later.`, 'critical')\n        }\n      })\n    }\n  }\n\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification message={notification} type={notifType} />\n      <FilterForm value={filter} onChange={handleFilterChange} />\n\n      <h2>Add Entry</h2>\n      <AddPersonForm\n        addPerson={addPerson}\n        name={newName}\n        handleNameChange={handleNameChange}\n        number={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      \n      <h2>Directory</h2>\n      <Directory persons={persons} filter={filter} remove={removePerson} />\n    </>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}